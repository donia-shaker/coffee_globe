import{k as c,q as D,C as u,g as S,A as f,d as r,o as i,i as d,a as e,t as m,F as $,e as k,j as h,w as C,f as g,l as A,v as x,D as w,E as L,n as y,r as P}from"./app-IHsLUp0R.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";function oe(p,t={}){const o=c(t.sort||"id"),n=c(t.direction||"desc"),b=c(t.search||""),_=c(t.perPage||10),l=a=>{n.value=o.value===a&&n.value==="asc"?"desc":"asc",o.value=a,u.get(`/${p}`,{search:b.value,sort:o.value,direction:n.value,perPage:_.value,page:1},{preserveState:!0,replace:!0})};return D(()=>{new MutationObserver(()=>{document.querySelectorAll(".sortable").forEach(s=>{const v=s.getAttribute("data-column");s.dataset.bound||(s.dataset.bound=!0,s.addEventListener("click",()=>l(v)))})}).observe(document.body,{childList:!0,subtree:!0})}),{sortColumn:o,sortDirection:n,sortBy:l}}const M={key:0,class:"alert alert-success alert-dismissible",role:"alert"},N={class:"mb-0"},V={key:1,class:"alert alert-danger alert-dismissible",role:"alert"},j={class:"mb-0"},B={__name:"Alert",setup(p){const t=S(),o=c(t.props.flash.success),n=c(t.props.flash.error);f(()=>t.props.flash.success,l=>{o.value=l}),f(()=>t.props.flash.error,l=>{n.value=l});const b=()=>{o.value=null},_=()=>{n.value=null};return(l,a)=>(i(),r($,null,[o.value?(i(),r("div",M,[e("p",N,m(o.value),1),e("button",{type:"button",class:"btn-close",onClick:b,"aria-label":"Close"})])):d("",!0),n.value?(i(),r("div",V,[e("p",j,m(n.value),1),e("button",{type:"button",class:"btn-close",onClick:_,"aria-label":"Close"})])):d("",!0)],64))}},T={class:"container-xxl flex-grow-1 container-p-y"},q={class:"my-3"},F={class:"card p-4"},O={class:"container mt-4"},Q={class:"card-header p-0"},U={key:0,class:"add w-fit"},z={class:"create-new btn add",type:"button"},I={class:"d-none d-sm-inline-block"},G={class:"mt-4 d-flex justify-content-between"},H={class:"mb-3 w-25"},J={class:"table-responsive my-2 border-top border-bottom"},K={class:"table rounded table-hover"},R={class:"table-light"},W={key:0,class:"mt-3"},X={class:"pagination justify-content-center"},Y=["onClick"],ne={__name:"DataTableData",props:{tableName:String,tableAction:String,tableActionLink:String,paginationData:Object,columns:Array,rows:Array,tableLink:String,search:String},setup(p){const t=p,o=c(t.search||""),n=c(10),b=()=>{u.get(`${t.tableLink}`,{search:o.value},{preserveState:!0,replace:!0})},_=()=>{u.get(`${t.tableLink}`,{per_page:n.value,search:o.value},{preserveState:!0,replace:!0})};return(l,a)=>(i(),r("div",T,[k(B),e("div",q,[h(l.$slots,"header")]),e("div",F,[e("div",O,[e("div",Q,[t.tableAction?(i(),r("div",U,[k(g(A),{href:t.tableActionLink},{default:C(()=>[e("button",z,[e("span",null,[a[4]||(a[4]=e("i",{class:"bx bx-plus me-sm-2"},null,-1)),e("span",I,m(t.tableAction),1)])])]),_:1},8,["href"])])):d("",!0),e("div",G,[e("div",null,[x(e("select",{class:"w-fit border border-gray-300 rounded py-1","onUpdate:modelValue":a[0]||(a[0]=s=>n.value=s),onChange:_},[...a[5]||(a[5]=[e("option",{value:"10"},"10",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)])],544),[[w,n.value]])]),e("div",H,[x(e("input",{"onUpdate:modelValue":a[1]||(a[1]=s=>o.value=s),onInput:b,type:"text",class:"form-control border border-gray-300 rounded",placeholder:"البحث..."},null,544),[[L,o.value]])])])]),e("div",J,[e("table",K,[e("thead",R,[h(l.$slots,"thead")]),e("tbody",null,[h(l.$slots,"tbody")])])]),t.paginationData?(i(),r("nav",W,[e("ul",X,[e("li",{class:y(["page-item",{disabled:!t.paginationData.prev_page_url}])},[t.paginationData.prev_page_url?(i(),r("button",{key:0,onClick:a[2]||(a[2]=s=>g(u).get(t.paginationData.prev_page_url)),class:"page-link"}," Prev ")):d("",!0)],2),(i(!0),r($,null,P(Array(t.paginationData.last_page).fill().map((s,v)=>v+1),s=>(i(),r("li",{class:y(["page-item",{active:t.paginationData.current_page===s}]),key:s},[e("button",{onClick:v=>g(u).get(`/${t.tableName}?page=${s}`),class:"page-link"},m(s),9,Y)],2))),128)),e("li",{class:y(["page-item",{disabled:!t.paginationData.next_page_url}])},[t.paginationData.next_page_url?(i(),r("button",{key:0,onClick:a[3]||(a[3]=s=>g(u).get(t.paginationData.next_page_url)),class:"page-link"}," Next ")):d("",!0)],2)])])):d("",!0)])])]))}},Z={},ee={type:"button",class:"btn btn-icon btn-outline-success mx-1","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"تعديل"};function te(p,t){return i(),r("button",ee,[...t[0]||(t[0]=[e("i",{class:"tf-icons bx bx-edit-alt me-1"},null,-1)])])}const le=E(Z,[["render",te]]);export{le as E,ne as _,oe as u};
