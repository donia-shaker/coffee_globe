import{u as $,c,w as x,a as t,b as w,d as _,e as b,o as m,F as f,r as v,f as s,n as V}from"./app-IHsLUp0R.js";import{_ as y}from"./DashboardLayout-CyR3qwCt.js";import{_ as F,a as h}from"./Active-C9jg0YLV.js";import{F as U}from"./FileInput-DpxJTwbE.js";import{_ as k}from"./Textarea-Dihu2eb0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"container-xxl flex-grow-1 container-p-y"},E={class:"card mb-4"},N={class:"card-body row"},P={class:"row"},C={class:"pt-4"},I=["disabled"],M={__name:"Edit",props:{langs:Array,blog:Object},setup(d){var p;const u=d,l=u.blog,i={image:"",imagePreview:((p=l.text)==null?void 0:p.url)||"",is_active:l.is_active?"1":"0",_method:"put"};u.langs.forEach(r=>{var a,e;i[`name_${r.code}`]=((a=l.name)==null?void 0:a[r.code])||"",i[`text_${r.code}`]=((e=l.text)==null?void 0:e[r.code])||""});const o=$(i),g=()=>{o.post(route("blogs.update",l.id),{forceFormData:!0,onSuccess:()=>{o.reset("image")}})};return(r,a)=>(m(),c(y,null,{default:x(()=>[t("div",B,[a[3]||(a[3]=t("h4",{class:"fw-bold py-2 mb-3 fs-2"},"تعديل مدونة",-1)),t("div",E,[t("div",N,[t("form",{onSubmit:w(g,["prevent"])},[t("div",P,[(m(!0),_(f,null,v(d.langs,e=>(m(),c(F,{key:e.code,label:` الاسم ${e.code}`,"model-value":s(o)[`name_${e.code}`],"onUpdate:modelValue":n=>s(o)[`name_${e.code}`]=n,message:s(o).errors[`name_${e.code}`]},null,8,["label","model-value","onUpdate:modelValue","message"]))),128)),(m(!0),_(f,null,v(d.langs,e=>(m(),c(k,{key:e.code,label:` النص ${e.code}`,"model-value":s(o)[`text${e.code}`],"onUpdate:modelValue":n=>s(o)[`text${e.code}`]=n,message:s(o).errors[`text${e.code}`]},null,8,["label","model-value","onUpdate:modelValue","message"]))),128)),b(U,{modelValue:s(o).image,"onUpdate:modelValue":a[0]||(a[0]=e=>s(o).image=e),fieldName:"image",label:"الصورة",previewId:"imagePreview",src:s(o).imagePreview,message:s(o).errors.image},null,8,["modelValue","src","message"]),b(h,{modelValue:s(o).is_active,"onUpdate:modelValue":a[1]||(a[1]=e=>s(o).is_active=e),label:"الحالة "},null,8,["modelValue"])]),t("div",C,[t("button",{class:V(["btn btn-primary text-white me-sm-3 me-1",{"opacity-25":s(o).processing}]),disabled:s(o).processing}," حفظ ",10,I),a[2]||(a[2]=t("a",{href:"/blogs",class:"btn btn-outline-secondary",style:{"border-color":"#aaa"}},"إلغاء",-1))])],32)])])])]),_:1}))}};export{M as default};
