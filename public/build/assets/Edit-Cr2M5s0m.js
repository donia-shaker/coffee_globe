import{u as g,c,w as $,a as t,b as x,d as f,e as u,o as i,F as b,r as v,f as a,n as y}from"./app-BECu96Up.js";import{_ as F}from"./DashboardLayout-CSjSEIp0.js";import{_ as w,a as U}from"./Active-CXwkE1KU.js";import{F as k}from"./FileInput-DpRnGlzW.js";import{_ as h}from"./Textarea-CCdhlHYM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"container-xxl flex-grow-1 container-p-y"},E={class:"card mb-4"},N={class:"card-body row"},P={class:"row"},C={class:"pt-4"},I=["disabled"],M={__name:"Edit",props:{langs:Array,client_review:Object},setup(m){var p;const _=m,r=_.client_review,d={image:"",imagePreview:((p=r.text)==null?void 0:p.url)||"",is_active:r.is_active?"1":"0",rate:r.rate?"1":"0",_method:"put"};_.langs.forEach(l=>{var o,e;d[`name_${l.code}`]=((o=r.name)==null?void 0:o[l.code])||"",d[`text_${l.code}`]=((e=r.text)==null?void 0:e[l.code])||""});const s=g(d),V=()=>{s.post(route("client_reviews.update",r.id),{forceFormData:!0,onSuccess:()=>{s.reset("image")}})};return(l,o)=>(i(),c(F,null,{default:$(()=>[t("div",B,[o[4]||(o[4]=t("h4",{class:"fw-bold py-2 mb-3 fs-2"},"تعديل رأي العميل",-1)),t("div",E,[t("div",N,[t("form",{onSubmit:x(V,["prevent"])},[t("div",P,[(i(!0),f(b,null,v(m.langs,e=>(i(),c(w,{key:e.code,label:` الاسم ${e.code}`,"model-value":a(s)[`name_${e.code}`],"onUpdate:modelValue":n=>a(s)[`name_${e.code}`]=n,message:a(s).errors[`name_${e.code}`]},null,8,["label","model-value","onUpdate:modelValue","message"]))),128)),u(w,{modelValue:a(s).rate,"onUpdate:modelValue":o[0]||(o[0]=e=>a(s).rate=e),label:"   التقييم",message:a(s).errors.rate},null,8,["modelValue","message"]),(i(!0),f(b,null,v(m.langs,e=>(i(),c(h,{key:e.code,label:` النص ${e.code}`,"model-value":a(s)[`text_${e.code}`],"onUpdate:modelValue":n=>a(s)[`text_${e.code}`]=n,message:a(s).errors[`text_${e.code}`]},null,8,["label","model-value","onUpdate:modelValue","message"]))),128)),u(k,{modelValue:a(s).image,"onUpdate:modelValue":o[1]||(o[1]=e=>a(s).image=e),fieldName:"image",label:"الصورة",previewId:"imagePreview",src:a(s).imagePreview,message:a(s).errors.image},null,8,["modelValue","src","message"]),u(U,{modelValue:a(s).is_active,"onUpdate:modelValue":o[2]||(o[2]=e=>a(s).is_active=e),label:"الحالة "},null,8,["modelValue"])]),t("div",C,[t("button",{class:y(["btn btn-primary text-white me-sm-3 me-1",{"opacity-25":a(s).processing}]),disabled:a(s).processing}," حفظ ",10,I),o[3]||(o[3]=t("a",{href:"/client_reviews",class:"btn btn-outline-secondary",style:{"border-color":"#aaa"}},"إلغاء",-1))])],32)])])])]),_:1}))}};export{M as default};
