import{g as $,u as w,c as p,w as b,a as r,b as U,d as m,e as n,o as i,F as _,r as f,f as s,t as x,n as F}from"./app-BnfHl9vm.js";import{_ as k}from"./DashboardLayout-BYVoUgP1.js";import{_ as v,a as z}from"./Active-CwVLfELx.js";import{_ as B}from"./SelectField-UYPX016O.js";import{_ as P}from"./Textarea-vaAuIXoT.js";import{F as h}from"./FileInput-Do5D4O5y.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"container-xxl flex-grow-1 container-p-y"},M={class:"card mb-4"},N={class:"card-body row"},S={class:"row"},A=["value"],C={class:"pt-4"},D=["disabled"],O={__name:"Edit",props:{langs:Array,categories:Array},setup(d){var g;const V=d,t=$().props.product,c={image:"",imagePreview:((g=t.media)==null?void 0:g.url)||"",size:t.size,category_id:t.category_id,is_active:t.is_active?"1":"0",_method:"put"};V.langs.forEach(l=>{c[`name_${l.code}`]=t.name[l.code]||"",c[`description_${l.code}`]=t.description[l.code]||""});const o=w(c),y=()=>{o.post(route("admin_products.update",t.id),{forceFormData:!0,onSuccess:()=>{o.reset("image")}})};return(l,a)=>(i(),p(k,null,{default:b(()=>[r("div",E,[a[5]||(a[5]=r("h4",{class:"fw-bold py-2 mb-3 fs-2"},"تعديل منتج",-1)),r("div",M,[r("div",N,[r("form",{onSubmit:U(y,["prevent"])},[r("div",S,[(i(!0),m(_,null,f(d.langs,e=>(i(),p(v,{key:e.code,label:`اسم المنتج ${e.code}`,"model-value":s(o)[`name_${e.code}`],"onUpdate:modelValue":u=>s(o)[`name_${e.code}`]=u,message:s(o).errors[`name_${e.code}`]},null,8,["label","model-value","onUpdate:modelValue","message"]))),128)),n(B,{modelValue:s(o).category_id,"onUpdate:modelValue":a[0]||(a[0]=e=>s(o).category_id=e),field_name:"category_id",label:"الصنف",errorMessage:s(o).errors.category_id},{options:b(()=>[(i(!0),m(_,null,f(d.categories,e=>(i(),m("option",{key:e.id,value:e.id},x(e.name.ar),9,A))),128))]),_:1},8,["modelValue","errorMessage"]),n(v,{modelValue:s(o).size,"onUpdate:modelValue":a[1]||(a[1]=e=>s(o).size=e),label:" الحجم",message:s(o).errors.size},null,8,["modelValue","message"]),(i(!0),m(_,null,f(d.langs,e=>(i(),p(P,{key:e.code,label:`تفاصيل المنتج ${e.code}`,"model-value":s(o)[`description_${e.code}`],"onUpdate:modelValue":u=>s(o)[`description_${e.code}`]=u,message:s(o).errors[`description_${e.code}`]},null,8,["label","model-value","onUpdate:modelValue","message"]))),128)),n(h,{modelValue:s(o).image,"onUpdate:modelValue":a[2]||(a[2]=e=>s(o).image=e),fieldName:"image",label:"صورة",previewId:"imagePreview",src:s(o).imagePreview,message:s(o).errors.image},null,8,["modelValue","src","message"]),n(z,{modelValue:s(o).is_active,"onUpdate:modelValue":a[3]||(a[3]=e=>s(o).is_active=e),label:"الحالة"},null,8,["modelValue"])]),r("div",C,[r("button",{class:F(["btn btn-primary text-white me-sm-3 me-1",{"opacity-25":s(o).processing}]),disabled:s(o).processing}," حفظ ",10,D),a[4]||(a[4]=r("a",{href:"/admin_products",class:"btn btn-outline-secondary",style:{"border-color":"#aaa"}},"إلغاء",-1))])],32)])])])]),_:1}))}};export{O as default};
